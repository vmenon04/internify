{% extends "base.html" %}

{% block title %}Internship Application Details{% endblock %}

{% block content %}
<div class="container">
    <section class="section">
        <h2 class="title">Internship Application Details</h2>
        <table class="table is-bordered is-striped is-narrow is-hoverable">
            <tbody>
                <tr>
                    <th>Intern Name:</th>
                    <td>{{ application.intern.firstname + " " + application.intern.lastname }}</td>
                </tr>
                <tr>
                    <th>Intern Email:</th>
                    <td>{{ application.intern.email }}</td>
                </tr>
                <tr>
                    <th>Essay Response:</th>
                    <td>{{ application.essay }}</td>
                </tr>
                <tr>
                    <th>Resume:</th>
                    <td><button onclick="openResume()">View Resume</button></td>
                </tr>
                <script>
                    function openResume() {

                        let pdfWindow = window.open("");
                        pdfWindow.document.write("<html<head><title>"+"resume"+"</title><style>body{margin: 0px;}</style></head>");
                        pdfWindow.document.write("<body><embed width='100%' height='100%' src='data:application/pdf;base64, " + encodeURI("{{ application.resume.decode('ascii') }}")+ "#toolbar=0&navpanes=0&scrollbar=0'></embed></body></html>");
                        pdfWindow.document.close();
            

                    }
                </script>
                <!-- Add other intern application details as rows -->
                <!-- Add more rows for additional fields -->
            </tbody>
        </table>
    </section>
</div>
{% endblock %}
